(function(t){function e(e){for(var i,o,u=e[0],c=e[1],a=e[2],p=0,m=[];p<u.length;p++)o=u[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(m.length)m.shift()();return s.push.apply(s,a||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,u=1;u<n.length;u++){var c=n[u];0!==r[c]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={app:0},s=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var a=0;a<u.length;a++)e(u[a]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"061d":function(t,e,n){t.exports=n.p+"img/place-plus.fcccab60.png"},"08af":function(t,e,n){"use strict";n("bfc3")},"13cd":function(t,e,n){},1427:function(t,e,n){t.exports=n.p+"img/empty.3fc2815f.png"},"22bc":function(t,e,n){t.exports=n.p+"img/max_1.3e4675e3.png"},"24b2":function(t,e,n){"use strict";n("286a")},"286a":function(t,e,n){},2909:function(t,e,n){t.exports=n.p+"img/minus-1.6e62c31f.png"},"324b":function(t,e,n){"use strict";n("13cd")},"462c":function(t,e,n){t.exports=n.p+"img/plus-4.3bb31d18.png"},"4c16":function(t,e,n){t.exports=n.p+"img/line-turn.83c70d32.png"},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),r=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%"}},[e("Header"),e("Labirint")],1)},s=[],o=function(){var t=this;t._self._c;return t._m(0)},u=[function(){var t=this,e=t._self._c;return e("header",{staticStyle:{height:"80px","background-color":"#ccccff"}},[e("div",[e("h2",{staticStyle:{"padding-top":"14px"}},[t._v("С днем рождения, Любимая")]),e("div",{staticClass:"post-detail"},[e("span",{staticClass:"post-info"},[e("span",[t._v("Июль 31, 2023")])])])])])}],c={name:"Header",props:{t:String,s:String}},a=c,l=(n("08af"),n("2877")),p=Object(l["a"])(a,o,u,!1,null,"4519a1fb",null),m=p.exports,d=n("8336"),g=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:"labirint"==t.status,expression:"status == 'labirint'"}]},[e("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"4px"}},[e("div",{staticClass:"grid"},[e("div",[e("h2",[t._v("Текущее значение: "+t._s(t.currentBall))]),e("h3",{staticStyle:{"margin-bottom":"20px"}},[t._v("Требуется: "+t._s(t.ball_need))])]),e(d["a"],{attrs:{color:"#BBDEFB"},on:{click:function(e){return t.resetList()}}},[t._v(" Сбросить ")])],1)]),e("draggable",{staticStyle:{width:"310px",position:"absolute",left:"0",right:"0",margin:"0 auto"},attrs:{move:t.handleMove,delay:"60"},on:{end:t.handleDragEnd},nativeOn:{click:function(e){return t.test.apply(null,arguments)}},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},t._l(t.list,(function(n,i){return e("div",{key:i,staticStyle:{display:"inline-block"}},[i>24&&i<30?[e("div",{staticStyle:{"background-color":"rgb(29, 54, 64)",margin:"30px 1px 1px 1px",width:"60px",height:"60px"}},[e("img",{staticClass:"field",class:n.class,staticStyle:{transition:"all 0.5s ease-in-out"},attrs:{id:n.id,deg:"0",src:t.getImgUrl(n.img),width:"60px",height:"60px"}})])]:[e("div",{staticStyle:{"background-color":"rgb(29, 54, 64)",margin:"1px",width:"60px",height:"60px"}},[e("img",{staticClass:"field",class:n.class,staticStyle:{transition:"all 0.5s ease-in-out"},attrs:{id:n.id,deg:"0",src:t.getImgUrl(n.img),width:"60px",height:"60px"}})])]],2)})),0)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"end"==t.status,expression:"status == 'end'"}],staticClass:"animation_end",staticStyle:{"margin-top":"90px"}},[e("img",{attrs:{src:t.getImgUrl("birthday"),width:"100%"}})]),e("Actor",{attrs:{message:t.current_msg,emoji:t.current_emoji,delay:t.current_delay}})],1)},f=[],y=(n("13d5"),n("b7ef"),n("b76a")),b=n.n(y),h=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.message,expression:"message != ''"}]},[t._m(0),e("div",{staticStyle:{position:"absolute",bottom:"30px",right:"10px"}},[e("img",{attrs:{src:t.getImgUrl(this.emoji),alt:"",height:"90px"}})])])},x=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg",attrs:{id:"msg"}},[e("div",{staticClass:"msg_text",attrs:{id:"msg_text"}})])}],_={name:"Actor",props:{message:String,emoji:String,delay:Number},data(){return{show_continue:!1}},watch:{message(t){null!=t&&void 0!=t&&this.typeWriter()}},methods:{timeout(t){return new Promise(e=>setTimeout(e,t))},async typeWriter(){console.log(this.message.length);const t=document.getElementById("msg_text");t.innerHTML="";for(const e of this.message)t.innerHTML+=e," "!=e&&await this.timeout(90);setTimeout(()=>{this.show_continue=!0,t.innerHTML+='<div style="font-size: 12px; color: #969696">Нажми для продолжения</div>'},0)},getImgUrl(t){if(""==t||null==t)return null;const e=n("9142");return e("./"+t+".png")}}},v=_,k=(n("324b"),Object(l["a"])(v,h,x,!1,null,"af85d3f8",null)),w=k.exports;function I(t){t.currentTarget.acontroller.abort()}var j={name:"Labirint",components:{draggable:b.a,Actor:w},data(){return{current_msg:"",current_emoji:"",current_delay:0,status_msgs:{labirint_dlg1:[{text:"О, старый добрый лабиринт. Тебе это уже знакомо, поэтому можешь отправляться сразу в бой.",delay:7600,emoji:"max_1",next_status:"labirint"}],labirint_dlg2:[{text:"Тебе удалось пройти его, Умничка!",delay:2900,emoji:"max_3"},{text:"Теперь поразмысли - что там может находиться?",delay:4e3,emoji:"max_2"},{text:"Давай проверим, отгадала ли ты. Можешь распаковать.",delay:4500,emoji:"max_1",next_status:"end"}]},status:"labirint_dlg1",types:{"place-plus":["plus"],"place-minus":["minus"],empty:["line","line-turn"],line:["empty","line-turn"],"line-turn":["empty","line"],plus:["plus","place_plus"],minus:["minus","place-minus"]},complete:!1,drop_none:!1,ball_need:5,movingIndex:0,futureIndex:0,dragging:!1,list_begin:[{id:0,type:"empty",count:0,img:"empty"},{id:1,type:"place-plus",count:0,img:"place-plus"},{id:2,type:"empty",count:0,img:"empty"},{id:3,type:"empty",count:0,img:"block",blocked:!0},{id:4,type:"empty",count:0,img:"block",blocked:!0},{id:5,type:"place-plus",count:0,img:"place-plus"},{id:6,type:"empty",count:0,img:"empty"},{id:7,type:"empty",count:0,img:"empty"},{id:8,type:"place-plus",count:0,img:"place-plus"},{id:9,type:"empty",count:0,img:"empty"},{id:10,type:"empty",count:0,img:"empty"},{id:11,type:"empty",count:0,img:"empty"},{id:12,type:"empty",count:0,img:"end",blocked:!0,class:"rotate-180"},{id:13,type:"place-minus",count:0,img:"place-minus"},{id:14,type:"empty",count:0,img:"empty"},{id:15,type:"empty",count:0,img:"empty"},{id:16,type:"place-plus",count:0,img:"place-plus"},{id:17,type:"empty",count:0,img:"empty"},{id:18,type:"empty",count:0,img:"line-turn-block",blocked:!0,class:"rotate-180"},{id:19,type:"place-plus",count:0,img:"place-plus"},{id:20,type:"empty",count:0,img:"block",blocked:!0},{id:21,type:"empty",count:0,img:"block",blocked:!0},{id:22,type:"empty",count:0,img:"start",blocked:!0},{id:23,type:"empty",count:0,img:"empty"},{id:24,type:"empty",count:0,img:"empty"},{id:25,type:"line",count:2,img:"line"},{id:26,type:"line",count:2,img:"line"},{id:27,type:"line",count:2,img:"line"},{id:28,type:"line-turn",count:1,img:"line-turn"},{id:29,type:"line-turn",count:1,img:"line-turn"},{id:30,type:"line-turn",count:1,img:"line-turn"},{id:31,type:"line-turn",count:1,img:"line-turn"},{id:32,type:"line-turn",count:1,img:"line-turn"},{id:33,type:"line-turn",count:1,img:"line-turn"},{id:34,type:"line-turn",count:1,img:"line-turn"},{id:35,type:"plus",count:1,img:"plus-5"},{id:36,type:"plus",count:1,img:"plus-4"},{id:37,type:"plus",count:1,img:"plus-2"},{id:38,type:"minus",count:1,img:"minus-2"},{id:39,type:"minus",count:1,img:"minus-1"}],list:[]}},computed:{currentBall(){const t=this.list.filter((t,e)=>{if(e<25&&("plus"==t.type||"minus"==t.type))return!0});if(!t.length>0)return 0;const e=t.reduce((t,e)=>"plus"==e.type?t+Number(e.img.slice(-1)):"minus"==e.type?t-Number(e.img.slice(-1)):void 0,0);return e}},watch:{list(t){this.check(t)}},methods:{timeout_msg(t){return new Promise(e=>setTimeout(e,t))},timeout_click(t){return new Promise((e,n)=>{const i=new DOMException("aborted!","AbortError"),r=setTimeout(()=>{e("you report!")},6e5);if(t.aborted)return clearTimeout(r),n(i);t.addEventListener("abort",()=>{clearTimeout(r),n(i)})})},async startDialog(){const t=this.status_msgs[this.status];if(void 0==t)return void(this.current_msg="");const e=document.querySelector("#msg");for(let i=0;i<t.length;i++){const r=t[i];console.log("удален"),e.removeEventListener("click",I),this.current_msg=r.text,this.current_emoji=r.emoji,this.current_delay=r.delay,await this.timeout_msg(r.delay),console.log("добавлен");let s=new AbortController,o=s.signal;e.addEventListener("click",I),e.acontroller=s;try{await this.timeout_click(o)}catch(n){}i==t.length-1&&(this.current_msg=""),r.hasOwnProperty("next_status")&&(this.status=r.next_status)}},resetList(){this.list=JSON.parse(JSON.stringify(this.list_begin))},check(t){console.log("start");for(let e=0;e<t.length;e++)switch(e){case 6:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=180)return;break;case 7:if("line"!=t[e].type)return;{const n=Number(document.getElementById(t[e].id).getAttribute("deg"))%360;if(0!=n&&180!=n)return}break;case 8:if("plus"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=0)return;break;case 9:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=270)return;break;case 10:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=180)return;break;case 11:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=0)return;break;case 13:if("minus"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=180)return;break;case 14:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=0)return;break;case 15:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=90)return;break;case 16:if("plus"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=180)return;break;case 17:if("line-turn"!=t[e].type)return;if(Number(document.getElementById(t[e].id).getAttribute("deg"))%360!=270)return;break}this.currentBall==this.ball_need&&(this.complete=!0,this.status="labirint_dlg2",this.startDialog())},getImgUrl(t){const e=n("9142");return e("./"+t+".png")},handleDragEnd(){if(this.drop_none)return void(this.drop_none=!1);this.futureItem=this.list[this.futureIndex],this.movingItem=this.list[this.movingIndex];const t=Object.assign([],this.list);t[this.futureIndex]=this.movingItem,t[this.movingIndex]=this.futureItem;const e=document.getElementById(this.movingItem.id);e.setAttribute("deg",0),e.style.transform="rotate(0deg)";const n=document.getElementById(this.futureItem.id);n.setAttribute("deg",0),n.style.transform="rotate(0deg)",this.list=t},handleMove(t){const e=t.relatedContext;if(e.element.blocked)return this.drop_none=!0,!1;const{index:n,futureIndex:i,element:r}=t.draggedContext;return r.blocked?(this.drop_none=!0,!1):this.types[e.element.type].includes(r.type)?(this.movingIndex=n,this.futureIndex=i,this.drop_none=!1,!1):(this.drop_none=!0,!1)},test(t){if(""==t.target.id)return;const e=this.list.find(e=>e.id===Number(t.target.id));if(void 0==e)return;if(e.blocked)return;const n=t.target;let i=0;const r=n.getAttribute("deg");i=Number(r)+Number(90),n.setAttribute("deg",i),n.style.transform="rotate("+i+"deg)",setTimeout(()=>{this.check(this.list)},500)}},mounted(){this.list=JSON.parse(JSON.stringify(this.list_begin)),this.startDialog()}},O=j,S=(n("24b2"),Object(l["a"])(O,g,f,!1,null,null,null)),N=S.exports,E={name:"App",components:{Header:m,Labirint:N},data:()=>({})},A=E,B=(n("92f3"),Object(l["a"])(A,r,s,!1,null,null,null)),T=B.exports,C=n("f309");i["a"].use(C["a"]);var L=new C["a"]({});i["a"].config.productionTip=!1,new i["a"]({vuetify:L,render:t=>t(T)}).$mount("#app")},"60a9":function(t,e,n){t.exports=n.p+"img/place-minus.7002d5f8.png"},"664e":function(t,e,n){t.exports=n.p+"img/max_2.c2e70c6a.png"},"6ab1":function(t,e,n){t.exports=n.p+"img/birthday.c8fa5bc2.png"},8589:function(t,e,n){t.exports=n.p+"img/max_6.534e3614.png"},"86ca":function(t,e,n){t.exports=n.p+"img/max_8.95d6ce01.png"},"8ae3":function(t,e,n){t.exports=n.p+"img/max_3.7b99e5ab.png"},9142:function(t,e,n){var i={"./birthday.png":"6ab1","./block.png":"ea92","./empty.png":"1427","./end.png":"94ec","./line-block.png":"edc3","./line-turn-block.png":"aabf","./line-turn.png":"4c16","./line.png":"aa06","./logo.png":"cf05","./max_1.png":"22bc","./max_2.png":"664e","./max_3.png":"8ae3","./max_4.png":"eae6","./max_5.png":"a077","./max_6.png":"8589","./max_7.png":"b99e","./max_8.png":"86ca","./minus-1.png":"2909","./minus-2.png":"96f1","./place-minus.png":"60a9","./place-plus.png":"061d","./plus-2.png":"b288","./plus-4.png":"462c","./plus-5.png":"bf75","./start.png":"fd98"};function r(t){var e=s(t);return n(e)}function s(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=s,t.exports=r,r.id="9142"},"92f3":function(t,e,n){"use strict";n("e4be")},"94ec":function(t,e,n){t.exports=n.p+"img/end.d2c3ae4c.png"},"96f1":function(t,e,n){t.exports=n.p+"img/minus-2.a3788af8.png"},a077:function(t,e,n){t.exports=n.p+"img/max_5.d8a869fa.png"},aa06:function(t,e,n){t.exports=n.p+"img/line.84d22e93.png"},aabf:function(t,e,n){t.exports=n.p+"img/line-turn-block.cddc037d.png"},b288:function(t,e,n){t.exports=n.p+"img/plus-2.59dc5ae5.png"},b99e:function(t,e,n){t.exports=n.p+"img/max_7.bf18691d.png"},bf75:function(t,e,n){t.exports=n.p+"img/plus-5.00e94d48.png"},bfc3:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},e4be:function(t,e,n){},ea92:function(t,e,n){t.exports=n.p+"img/block.6cbcfbec.png"},eae6:function(t,e,n){t.exports=n.p+"img/max_4.f0a61795.png"},edc3:function(t,e,n){t.exports=n.p+"img/line-block.a2061d24.png"},fd98:function(t,e,n){t.exports=n.p+"img/start.54bf3d1b.png"}});
//# sourceMappingURL=app.f0da47fe.js.map